<%= form_for(@service) do |f| %>
  <% if @service.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@service.errors.count, "error") %> prohibited this service from being saved:</h2>

      <ul>
      <% @service.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

<p>Service providers include anyone from a part-time dog-walker to a master electrician; if you provide a service people cannot, or will not, do for themselves, and will pay for you to do it, you can make a listing here.</p>

<p>Looking2 allows you to provide whatever information you want. In order to avoid absolute chaos, let's fit your details into some general containers. This will help create clean and intuitive search results for the people who are trying to find you.</p>

<p>Test it out with the interactive form below. A detailed description of each field is provide at the bottom of the page.</p>

<div id="new-service-spacer"></div>


<h3>Search Result Creation</h3>
<p>Let's start with some basic information to see how your listing</br>will look in a search result:</p>
<%= render partial: "exampleResult" %>
<div class="form-fields">
<%= f.label :title %>
<%= f.text_field :title, placeholder: "Bob's Towing"%>
</div>

<div class="form-fields">
<%= f.label "Service Type" %>
<%= f.text_field :category, placeholder: "Auto Service"%>
</div>

<%= f.fields_for :category_tags do |item| %>
  <div class="array-field">
    <div class="array-label"><label>Primary Services</label></div>
    <!-- item.label item.index -->
    <div class="array-inputs">
      <%= item.text_field item.index, id: "cat1", placeholder: "Towing"%>
      <%= item.text_field item.index, id: "cat2", placeholder: "Roadside Assistance"%>
      <%= item.text_field item.index, id: "cat3", placeholder: "Inspection"%>
      <%= item.text_field item.index, id: "cat4", placeholder: "Repairs"%>
      <%= item.text_field item.index, id: "cat5", placeholder: "Maintenance"%>
    </div>
  <% end %>
  </div>

<%= f.fields_for :contact, @service.contact do |contact_form|%>
        <div class="form-fields">
          <%= contact_form.label "City" %>
          <%= contact_form.text_field :city, placeholder: "Pittsburgh"%>
        </div>
        <div class="form-fields">
          <%= contact_form.label "State" %>
          <!-- <%= contact_form.text_field :state %> -->
          <select name="service[contact][state]" id="service_contact_state">
            <option value="" disabled selected>Select state</option>
            <option value="AL">Alabama</option>
            <option value="AK">Alaska</option>
            <option value="AZ">Arizona</option>
            <option value="AR">Arkansas</option>
            <option value="CA">California</option>
            <option value="CO">Colorado</option>
            <option value="CT">Connecticut</option>
            <option value="DE">Delaware</option>
            <option value="DC">District Of Columbia</option>
            <option value="FL">Florida</option>
            <option value="GA">Georgia</option>
            <option value="HI">Hawaii</option>
            <option value="ID">Idaho</option>
            <option value="IL">Illinois</option>
            <option value="IN">Indiana</option>
            <option value="IA">Iowa</option>
            <option value="KS">Kansas</option>
            <option value="KY">Kentucky</option>
            <option value="LA">Louisiana</option>
            <option value="ME">Maine</option>
            <option value="MD">Maryland</option>
            <option value="MA">Massachusetts</option>
            <option value="MI">Michigan</option>
            <option value="MN">Minnesota</option>
            <option value="MS">Mississippi</option>
            <option value="MO">Missouri</option>
            <option value="MT">Montana</option>
            <option value="NE">Nebraska</option>
            <option value="NV">Nevada</option>
            <option value="NH">New Hampshire</option>
            <option value="NJ">New Jersey</option>
            <option value="NM">New Mexico</option>
            <option value="NY">New York</option>
            <option value="NC">North Carolina</option>
            <option value="ND">North Dakota</option>
            <option value="OH">Ohio</option>
            <option value="OK">Oklahoma</option>
            <option value="OR">Oregon</option>
            <option value="PA">Pennsylvania</option>
            <option value="RI">Rhode Island</option>
            <option value="SC">South Carolina</option>
            <option value="SD">South Dakota</option>
            <option value="TN">Tennessee</option>
            <option value="TX">Texas</option>
            <option value="UT">Utah</option>
            <option value="VT">Vermont</option>
            <option value="VA">Virginia</option>
            <option value="WA">Washington</option>
            <option value="WV">West Virginia</option>
            <option value="WI">Wisconsin</option>
            <option value="WY">Wyoming</option>
          </select>
        </div>
        <div class="form-fields">
          <%= contact_form.label "Neighborhood" %>
          <%= contact_form.text_field :local, placeholder: "Shadyside" %>
        </div>
        <div class="form-fields">
          <%= contact_form.label "Phone" %>
          <%= contact_form.text_field :phone, placeholder: "555.555.5555" %>
        </div>
<% end %>

<%= render partial: "exampleDetails" %>
<h4>Location Tags</h4>
<p>Your customers may search for locations with names that are commonly used to refer to your area. Use the optional location tags below to help people find you more easily:</p>
<%= f.fields_for :location_tags do |item| %>
    <div class="array-field">
    <div class="array-label"><label>Location Tags</label></div>
    <div class="array-inputs" id="location-tag-inputs">
      <%= item.text_field item.index%>
      <%= item.text_field item.index%>
      <%= item.text_field item.index%>
      <%= item.text_field item.index%>
      <%= item.text_field item.index%>
    </div>
    <% end %>
    </div>
<h3>Detailed Listing Creation</h3>

<p>Let's finish up your listing with the details your customers will see when they click on your search</br>result.</p>
<div class="form-fields">
  <%= f.label :brag %>
  <%= f.text_area :brag, placeholder: "Best customer service in town" %>
</div>
<div class="form-fields">
  <%= f.label :tell_me_more %>
  <%= f.text_area :tell_me_more, placeholder: "Tell me more..." %>
</div>

<h4>Additional contact details (optional)</h4>

<%= f.fields_for :contact, @service.contact do |contact_form|%>
        <div class="form-fields">
          <%= contact_form.label "Name" %>
          <%= contact_form.text_field :name %>
        </div>
        <div class="form-fields">
          <%= contact_form.label "Street" %>
          <%= contact_form.text_field :street %>
        </div>
        <div class="form-fields">
          <%= contact_form.label "Zip" %>
          <%= contact_form.text_field :zip %>
        </div>
        <div class="form-fields">
          <%= contact_form.label "Website" %>
          <%= contact_form.text_field :url %>
        </div>
<% end %>
  <div class="actions">
    <%= f.submit %>
  </div>
    <!--</div>
  </div>
</div>-->
<div id="search-instructions">
<h3>More info</h3>
<div class="search-info">
  <div class="search-info-label">
    <label>Title</label>
  </div>
  <div class="search-info-description">
    <p>Title is the first line if your listing. This could be the name of your business, or leave it blank and the name field (way below) will be used as the title</p>
  </div>

  <div class="search-info-label">
    <label>Service type</label>
  </div>
  <div class="search-info-description">
    <p>The service type should be 1-3 words describing your business or occupation. For example "Master Electrician" or "Dog Walker" or "Computer Repair Service". If nothing comes to mind, use whatever you put on your business tax return.</p>
  </div>

  <div class="search-info-label">
    <label>Primary Services</label>
  </div>
  <div class="search-info-description">
    <p>Primary Services are used to provide more details about your business or occupation. They are used in our search function and can also be clicked by Lookers to provide convenient searching.</p>
  </div>

  <div class="search-info-label">
    <label>City</label>
  </div>
  <div class="search-info-description">
    <p>The name of the city as it appears on the official address of your business location.</p>
  </div>

  <div class="search-info-label">
    <label>Neighborhood</label>
  </div>
  <div class="search-info-description">
    <p>If the city you listed is not specific enough (e.g. Pittsburgh), the neighborhood will provide Lookers with a better understanding of your location. We recommend using a well known name (e.g. Shadyside).
    </p>
  </div>

  <div class="search-info-label">
    <label>Location Tags</label>
  </div>
  <div class="search-info-description">
    <p>Searching for things by location is a matter of personal preference. We have provided 5 extra location tags for your Listing. These tags are used in our location search, so be sure to include any names that will be useful to the Lookers.</p>
  </div>

  <div class="search-info-label">
    <label>Brag</label>
  </div>
  <div class="search-info-description">
    <p>Enter your slogan, sales pitch, awards, or anything else you would like to brag about. Keep it clean and feel free to put whatever you want. 100 character limit.</p>
  </div>

  <div class="search-info-label">
    <label>Tell me more</label>
  </div>
  <div class="search-info-description">
    <p>Think of this as an "About Us" page on a website, or anything else you think will tempt a customer your way. 1000 character limit.</p>
  </div>

  <div class="search-info-label">
    <label>Additional contact details</label>
  </div>
  <div class="search-info-description">
    <p>These are optional fields. Keep in mind that, depending on your service, leaving some of these details out might leave potential customers hanging!</p>
  </div>
</div>
</div>
<% end %>